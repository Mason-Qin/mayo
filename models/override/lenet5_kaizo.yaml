---
model.layers:
    _incremental: &incremental
        type: mayo.override.IncrementalQuantizer
        intervals: [0.25, 0.5, 0.75, 1]
        quantizer:
            type: mayo.override.Recentralizer
            quantizer:
                type: mayo.override.FixedPointQuantizer
                width: 2
                point: 0
            mean_quantizer:
                type: mayo.override.FixedPointQuantizer
                width: 2
                point: 1
    _overrider: &playground
        # - {type: mayo.override.EmptyOverrider}
        - {type: mayo.override.DynamicNetworkSurgeryPruner}
        # - {type: mayo.override.FixedPointQuantizer}
        - *incremental
        # - {type: mayo.override.RandomChannelGater, ratio: 0.5}
        # - {type: mayo.override.ChannelGater, alpha: 0.1, threshold: 0.3}
    conv0: &overrider
        weights_overrider: &quantizer
            type: mayo.override.FixedPointQuantizer
            width: 4
            point: 1
            should_update: true
        biases_overrider: *quantizer
        activation_overrider: &shift
            type: mayo.override.ShiftQuantizer
            width: 8
            bias: 250
            overflow_rate: 0.0
            should_update: true
    conv1: {<<: *overrider}
